(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{202:(e,r,a)=>{"use strict";a.d(r,{AddWorkForm:()=>g});var l=a(5155),s=a(2115),t=a(63),n=a(6191),d=a(926);let i=(0,d.createServerReference)("40dfdaf845b1f8d696d63eeb0cc30e37c6a43a649b",d.callServer,void 0,d.findSourceMapURL,"createWorkItem");var c=a(4823),o=a(5195),u=a(7003),x=a(3209),h=a(6170),p=a(7507),f=a(7060),b=a(7001),v=a(2168);function g(e){var r,a;let{types:d,series:g}=e,m=(0,t.useRouter)(),[j,y]=(0,s.useTransition)(),[w,N]=(0,s.useState)(""),[_,C]=(0,s.useState)(null!=(a=null==(r=d[0])?void 0:r.id)?a:""),[S,R]=(0,s.useState)("none"),[k,L]=(0,s.useState)("planned"),[A,T]=(0,s.useState)(0),[Z,q]=(0,s.useState)(""),[U,V]=(0,s.useState)(""),[W,$]=(0,s.useState)(""),[z,B]=(0,s.useState)(""),[F,M]=(0,s.useState)(""),[E,I]=(0,s.useState)(""),[O,P]=(0,s.useState)("");return(0,l.jsxs)(x.Zp,{children:[(0,l.jsx)(x.aR,{children:(0,l.jsx)(x.ZB,{children:"新規作品を追加"})}),(0,l.jsxs)(x.Wu,{className:"space-y-4",children:[(0,l.jsx)(h.p,{value:w,onChange:e=>N(e.target.value),placeholder:"タイトル"}),(0,l.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(p.l6,{value:_,onValueChange:C,children:[(0,l.jsx)(p.bq,{children:(0,l.jsx)(p.yv,{placeholder:"種別"})}),(0,l.jsx)(p.gC,{children:d.map(e=>(0,l.jsx)(p.eb,{value:e.id,children:e.name},e.id))})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(h.p,{value:E,onChange:e=>I(e.target.value),placeholder:"種別を追加"}),(0,l.jsx)(u.$,{variant:"outline",onClick:()=>{E.trim()&&y(async()=>{await (0,c.r)(E),I(""),m.refresh()})},disabled:j,children:(0,l.jsx)(n.A,{className:"h-4 w-4"})})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(p.l6,{value:S,onValueChange:R,children:[(0,l.jsx)(p.bq,{children:(0,l.jsx)(p.yv,{placeholder:"シリーズ"})}),(0,l.jsxs)(p.gC,{children:[(0,l.jsx)(p.eb,{value:"none",children:"シリーズなし"}),g.map(e=>(0,l.jsx)(p.eb,{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(h.p,{value:O,onChange:e=>P(e.target.value),placeholder:"シリーズを追加"}),(0,l.jsx)(u.$,{variant:"outline",onClick:()=>{O.trim()&&y(async()=>{await (0,o.w)(O),P(""),m.refresh()})},disabled:j,children:(0,l.jsx)(n.A,{className:"h-4 w-4"})})]})]})]}),(0,l.jsxs)(p.l6,{value:k,onValueChange:e=>L(e),children:[(0,l.jsx)(p.bq,{children:(0,l.jsx)(p.yv,{})}),(0,l.jsx)(p.gC,{children:Object.entries(v.Zt).map(e=>{let[r,a]=e;return(0,l.jsx)(p.eb,{value:r,children:a},r)})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"text-xs text-muted-foreground",children:["評価: ",A.toFixed(1)]}),(0,l.jsx)(f.A,{min:0,max:5,step:.1,value:[A],onValueChange:e=>{var r;return T(null!=(r=e[0])?r:0)}})]}),(0,l.jsx)(h.p,{value:Z,onChange:e=>q(e.target.value),placeholder:"サムネイルURL (任意)"}),(0,l.jsx)(h.p,{type:"date",value:U,onChange:e=>V(e.target.value)}),(0,l.jsx)(b.T,{value:W,onChange:e=>$(e.target.value),placeholder:"気になった理由"}),(0,l.jsx)(b.T,{value:z,onChange:e=>B(e.target.value),placeholder:"感想"}),(0,l.jsx)(h.p,{value:F,onChange:e=>M(e.target.value),placeholder:"タグ (カンマ区切り)"}),(0,l.jsx)(u.$,{className:"w-full",disabled:j,onClick:()=>{w.trim()&&_&&y(async()=>{await i({title:w,type_id:_,series_id:"none"===S?null:S,status:k,rating:A,review_text:z||null,why_interested:W||null,availability_end:U||null,thumbnail_url:Z||null,tags:F.split(",").map(e=>e.trim()).filter(Boolean)}),N(""),$(""),B(""),M(""),q(""),V(""),L("planned"),T(0),m.push("/"),m.refresh()})},children:"登録する"})]})]})}},2108:(e,r,a)=>{Promise.resolve().then(a.bind(a,202))},2168:(e,r,a)=>{"use strict";a.d(r,{Zt:()=>l});let l={planned:"予定",in_progress:"進行中",on_hold:"保留",completed:"完了"}},3209:(e,r,a)=>{"use strict";a.d(r,{Wu:()=>i,ZB:()=>d,Zp:()=>t,aR:()=>n});var l=a(5155);a(2115);var s=a(5016);function t(e){let{className:r,...a}=e;return(0,l.jsx)("div",{className:(0,s.cn)("rounded-xl border border-border/85 bg-card/95 text-card-foreground shadow-[0_14px_30px_-20px_hsl(220_30%_1%_/_0.9)] transition-colors",r),...a})}function n(e){let{className:r,...a}=e;return(0,l.jsx)("div",{className:(0,s.cn)("flex flex-col space-y-1.5 p-4",r),...a})}function d(e){let{className:r,...a}=e;return(0,l.jsx)("h3",{className:(0,s.cn)("text-base font-semibold",r),...a})}function i(e){let{className:r,...a}=e;return(0,l.jsx)("div",{className:(0,s.cn)("p-4 pt-0",r),...a})}},4823:(e,r,a)=>{"use strict";a.d(r,{r:()=>s});var l=a(926);let s=(0,l.createServerReference)("40b10458f459258132b12ff6dbefb1bf035c4fcc6b",l.callServer,void 0,l.findSourceMapURL,"createType")},5016:(e,r,a)=>{"use strict";a.d(r,{cn:()=>t});var l=a(2821),s=a(5889);function t(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,s.QP)((0,l.$)(r))}},5195:(e,r,a)=>{"use strict";a.d(r,{w:()=>s});var l=a(926);let s=(0,l.createServerReference)("4025e5480231b04ea434de5c8f0aca107fee1c2e3b",l.callServer,void 0,l.findSourceMapURL,"createSeries")},6170:(e,r,a)=>{"use strict";a.d(r,{p:()=>n});var l=a(5155),s=a(2115),t=a(5016);let n=s.forwardRef((e,r)=>{let{className:a,type:s,...n}=e;return(0,l.jsx)("input",{type:s,className:(0,t.cn)("flex h-10 w-full rounded-lg border border-input bg-muted/30 px-3 py-2 text-sm outline-none ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring/90 disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...n})});n.displayName="Input"},7001:(e,r,a)=>{"use strict";a.d(r,{T:()=>n});var l=a(5155),s=a(2115),t=a(5016);let n=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,l.jsx)("textarea",{className:(0,t.cn)("min-h-[80px] w-full rounded-lg border border-input bg-muted/30 px-3 py-2 text-sm outline-none ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring/90 disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...s})});n.displayName="Textarea"},7003:(e,r,a)=>{"use strict";a.d(r,{$:()=>c});var l=a(5155),s=a(2115),t=a(2467),n=a(3101),d=a(5016);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg border border-transparent text-sm font-semibold transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-[0_10px_20px_-14px_hsl(var(--primary))] hover:brightness-110",secondary:"border-border/70 bg-muted/70 text-foreground hover:bg-muted",outline:"border-border/80 bg-transparent hover:bg-accent hover:text-accent-foreground",ghost:"text-foreground/85 hover:bg-accent hover:text-accent-foreground",destructive:"bg-red-600 text-white hover:bg-red-500"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-lg px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,r)=>{let{className:a,variant:s,size:n,asChild:c=!1,...o}=e,u=c?t.DX:"button";return(0,l.jsx)(u,{className:(0,d.cn)(i({variant:s,size:n,className:a})),ref:r,...o})});c.displayName="Button"},7060:(e,r,a)=>{"use strict";a.d(r,{A:()=>d});var l=a(5155),s=a(2115),t=a(3026),n=a(5016);let d=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,l.jsxs)(t.bL,{ref:r,className:(0,n.cn)("relative flex w-full touch-none select-none items-center",a),...s,children:[(0,l.jsx)(t.CC,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-muted",children:(0,l.jsx)(t.Q6,{className:"absolute h-full bg-primary"})}),(0,l.jsx)(t.zi,{className:"block h-4 w-4 rounded-full border border-primary bg-background shadow"})]})});d.displayName=t.bL.displayName},7507:(e,r,a)=>{"use strict";a.d(r,{bq:()=>u,eb:()=>h,gC:()=>x,l6:()=>c,yv:()=>o});var l=a(5155),s=a(2115),t=a(6685),n=a(4033),d=a(5917),i=a(5016);let c=t.bL,o=t.WT,u=s.forwardRef((e,r)=>{let{className:a,children:s,...d}=e;return(0,l.jsxs)(t.l9,{ref:r,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-lg border border-input bg-muted/30 px-3 py-2 text-sm outline-none ring-offset-background focus-visible:ring-2 focus-visible:ring-ring/90",a),...d,children:[s,(0,l.jsx)(t.In,{children:(0,l.jsx)(n.A,{className:"h-4 w-4 opacity-60"})})]})});u.displayName=t.l9.displayName;let x=s.forwardRef((e,r)=>{let{className:a,children:s,...n}=e;return(0,l.jsx)(t.ZL,{children:(0,l.jsx)(t.UC,{ref:r,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-lg border border-border/80 bg-card/95 p-1 shadow-[0_18px_30px_-18px_hsl(220_30%_1%_/_0.95)]",a),...n,children:(0,l.jsx)(t.LM,{children:s})})})});x.displayName=t.UC.displayName;let h=s.forwardRef((e,r)=>{let{className:a,children:s,...n}=e;return(0,l.jsxs)(t.q7,{ref:r,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-md py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-accent",a),...n,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(t.VF,{children:(0,l.jsx)(d.A,{className:"h-4 w-4"})})}),(0,l.jsx)(t.p4,{children:s})]})});h.displayName=t.q7.displayName}},e=>{e.O(0,[707,562,441,255,358],()=>e(e.s=2108)),_N_E=e.O()}]);